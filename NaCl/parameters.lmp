# ==========================================================================
# ==========================================================================
# Parameter File Describing Simulation Specifications
# Written By: Amro Dodin (Geissler Group - UC Berkeley & LBL)
# ==========================================================================
# ==========================================================================

# ==========================================================================
# Universal Parameters
# ==========================================================================

# Basic Specification
units real
dimension 3
boundary p p p

# Random SEED Generator (Initial Config. & Equil.)
variable SEED index 783647324   # Default Value. Override via CLI
variable S    equal floor(random(0,2^16,v_SEED))

# Force Evaluations per Minimization Iteration
variable FEvalsPerIter equal 10

# Force Field Directory & Molecule Loading
variable FFDIR getenv FFDIR
atom_style full
molecule h2o ${FFDIR}tip4p.mol

# Define Output Labels & Locations
variable DATAROOT getenv DATAROOT
variable DATADIR  index  ""   # Default DATADIR. Override via CLI
variable label    string NaCl

# Output Frequency (in Timesteps)
variable thermoFreq equal 500     # Thermodynamic Output Frequency
variable atomFreq   equal 500     # Atom Dump/per Atom Frequency
variable cvFreq     equal 500     # Collective Vars output frequency


# ==========================================================================
# Initial Configuration Parameters
# ==========================================================================

# Physical Parameters
variable rho equal 1            # Density (g/cm^3)
variable MR  equal 18.00        # Molar Mass (g/mol)
variable NA  equal 6.022e23     # Avogadro's Constant (1/mol)

# Calculate Corresponding Lattice Constant (A)
variable a equal "(v_MR/(v_rho * v_NA))^(1/3)*1e8"

# Half Box Widths (in Lattice Coordinates)
# NB: Number of Particles = 8*Lx*Ly*Lz
# Corresponds to a Box of Approximately 25 x 25 x 25 A
variable Lx equal 4
variable Ly equal 4
variable Lz equal 4

# Initial Relaxation Parameters
variable initEThresh equal 0
variable initFThresh equal 0
variable initIters   equal 2500
variable initFEvals  equal v_FEvalsPerIter*v_initIters

# ==========================================================================
# Equilibration & Production Durations
# ==========================================================================

variable INPREFIX index ""
# Simulation Time
variable dt     equal 1.0        # Timestep (in fs)
variable nHeat  equal 50      # Time to heat System (in Timesteps)
variable nEquil equal 50     # Equilibration Duration (in Timesteps)
variable nProd  equal 100   # Production Duration (in Timesteps)
#variable nHeat  equal 5000      # Time to heat System (in Timesteps)
#variable nEquil equal 25000     # Equilibration Duration (in Timesteps)
#variable nProd  equal 1000000    # Production Duration (in Timesteps)

# Collective Statistice Averaging
variable cvEvery    equal 100
variable cvRepeat   equal floor(v_cvFreq/v_cvEvery)
variable totEvery   equal floor(v_nStep/v_cvEvery)

# ==========================================================================
# Thermostat Parameters (Equilibration & Production)
# ==========================================================================

# Temperatures
variable TK     equal 300.0     # Physical Temperature
variable gamma  equal 100       # Physical Thermostat Damping (Timesteps Unit)

# Convert Nose-Hoover Damping to time units
variable gammat  equal v_gamma*v_dt
